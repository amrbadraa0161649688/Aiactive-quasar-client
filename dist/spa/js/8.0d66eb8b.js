(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{7143:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-md"},[a("tool-bar",{attrs:{moduleName:t.moduleName}}),a("q-scroll-area",{staticClass:"q-scroll-area-matching",style:t.lprData.length>0?"background-color:#e5e5e5":""},[t.lprData.length?a("lpr-card",{staticClass:"matching-card  q-mt-md q-gutter-lg",attrs:{moduleName:t.moduleName,lprData:t.lprData}}):a("empty-state")],1),a("pagination",{attrs:{paginationData:t.paginationData},on:{updateCurrentPage:t.setPagination}})],1)},s=[],n=a("ded3"),r=a.n(n),o=a("2f62"),d={data(){return{moduleName:"generic-lpr-module"}},components:{"tool-bar":a("5bd4").default,"lpr-card":a("770a").default,"no-data":a("28d6").default,loading:a("c5e0").default,pagination:a("f836").default,"empty-state":a("2101").default},watch:{autoUpdateTransits:function(t,e){t&&(this.$socket.emit("join","generic-lpr-module"),this.sendMetaData(!0),this.listenToLprHub()),t||(this.$socket.emit("leave","generic-lpr-module"),this.stopListenToLprHub())},paginationLimit:function(t,e){t&&this.updateTransits&&this.sendMetaData()},paginationPage:function(t,e){t&&this.updateTransits&&this.sendMetaData()},confidenceLimit:function(t,e){t&&this.updateTransits&&(console.log("confidence limit changed",this.filters),this.sendMetaData())},speedLimit:function(t,e){console.log("speed limit changed",t,e),t&&this.updateTransits&&(console.log("speed limit changed",t),this.sendMetaData())},confirmed:function(t,e){t&&this.updateTransits&&(console.log("confirmed filter changed",this.filters),this.sendMetaData())}},methods:r()(r()(r()({},Object(o["b"])("devices",["getDevices"])),Object(o["b"])("lpr",["getLprData","setPagination","updateLprData","setDeviceFilter","getDistinctDates"])),{},{sendMetaData(t){let e=r()({},this.pagination);t&&(e.page=1),this.$socket.emit("meta_update",{pagination:e,filters:{confidenceFilter:parseInt(this.confidenceLimit),speedFilter:parseInt(this.speedLimit),confirmedFilter:this.confirmed}})},listenToLprHub(){this.sockets.subscribe("lpr_transits",t=>{this.updateLprData(t)})},stopListenToLprHub(){this.sockets.unsubscribe("lpr_transits"),console.log("Stop listning to lpr_transits channel")}}),mounted(){this.getDistinctDates(),this.getDevices(),setTimeout(()=>{this.setDeviceFilter(this.moduleActiveDevices)},1500)},destroyed(){this.$socket.emit("leave","generic-lpr-module")},computed:r()(r()(r()(r()({},Object(o["d"])("lpr",["pagination","filters","updateTransits","lprDataDownloaded"])),Object(o["c"])("lpr",["sortedTransits","paginationData"])),Object(o["c"])("devices",["getModuleActiveDevices"])),{},{autoUpdateTransits:{get(){return this.updateTransits},set(t){this.setUpdateTransits(t)}},lprData(){return this.sortedTransits},moduleActiveDevices(){return this.getModuleActiveDevices(this.moduleName)},paginationLimit(){return this.pagination.limit},paginationPage(){return this.pagination.page},confidenceLimit(){return this.filters.confidence_number.isActive?this.filters.confidence_number.data:"0"},speedLimit(){return this.filters.speed.isActive?this.filters.speed.data:"0"},confirmed(){return this.filters.confirmed.isActive?"true":"false"}})},l=d,c=(a("fe54"),a("2877")),u=a("9989"),p=a("4983"),m=a("eebe"),f=a.n(m),g=Object(c["a"])(l,i,s,!1,null,null,null);e["default"]=g.exports;f()(g,"components",{QPage:u["a"],QScrollArea:p["a"]})},"770a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition-group",{staticClass:"row",attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},t._l(t.lprData,(function(e){return a("q-card",{key:e.id,staticClass:"lpr-card q-mt-md q-mb-md"},[a("card-plateNumber",{attrs:{lprPlateNumber:e.plate_number}}),a("card-image",{attrs:{lprImages:e,moduleName:t.moduleName}}),a("card-data",{attrs:{lprData:e,moduleName:t.moduleName}}),a("card-actions",{attrs:{moduleName:t.moduleName,lprData:e}})],1)})),1)},s=[],n=a("ded3"),r=a.n(n),o=a("2f62"),d={props:["lprData","moduleName"],data(){return{}},components:{"card-plateNumber":a("8f1e").default,"card-image":a("9e7a").default,"card-data":a("893e").default,"card-actions":a("919e").default},methods:r()({},Object(o["b"])("lpr",["editLprPlateNumber"])),mounted(){},computed:{}},l=d,c=(a("d26b"),a("2877")),u=a("f09f"),p=a("eebe"),m=a.n(p),f=Object(c["a"])(l,i,s,!1,null,null,null);e["default"]=f.exports;m()(f,"components",{QCard:u["a"]})},d26b:function(t,e,a){"use strict";var i=a("f7eb"),s=a.n(i);s.a},debd:function(t,e,a){},f7eb:function(t,e,a){},fe54:function(t,e,a){"use strict";var i=a("debd"),s=a.n(i);s.a}}]);